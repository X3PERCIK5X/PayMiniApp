# PayMiniApp

Telegram mini app для оплаты подписки (3000 ₽) + бот для запуска и уведомления админа.

## Структура

- `index.html` — основной mini app для GitHub Pages
- `Оплата мини апп.html` — копия интерфейса
- `бот/оплата бот.js` — код Telegram-бота
- `бот/config.env.example` — пример конфига

## Что делает mini app

- При входе пытается автоматически запросить телефон через Telegram
- Запрашивает название бота клиента
- Открывает ссылку оплаты Tinkoff
- По кнопке "Я оплатил подписку" отправляет данные в бота

## Настройка бота

1. В папке `бот` создайте `config.env` по примеру `config.env.example`.
2. Заполните:

```env
BOT_TOKEN="ваш_токен_бота"
WEBAPP_URL="https://x3percik5x.github.io/PayMiniApp/"
TINKOFF_PAYMENT_URL="https://ваша-ссылка-на-запрос-денег"
ADMIN_CHAT_ID="ваш_chat_id_для_уведомлений"
```

3. Запуск:

```bash
npm i node-telegram-bot-api
node "бот/оплата бот.js"
```

После нажатия пользователем кнопки "Я оплатил подписку" бот отправляет в `ADMIN_CHAT_ID`:
- телефон
- название бота
- Telegram-профиль пользователя
- время отметки об оплате
